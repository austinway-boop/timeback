        .hero-banner { position:relative; border-radius:var(--radius); overflow:hidden; margin-bottom:24px; box-shadow:var(--shadow); }
        .hero-banner img { width:100%; height:150px; object-fit:cover; display:block; }
        .hero-overlay { position:absolute; inset:0; background:linear-gradient(135deg,rgba(69,181,170,0.88),rgba(56,158,148,0.82)); display:flex; align-items:center; padding:0 32px; }
        .hero-overlay h1 { font-size:1.7rem; font-weight:700; color:#fff; margin:0 0 4px; }
        .hero-overlay p { font-size:0.95rem; color:rgba(255,255,255,0.85); margin:0; }

        .search-wrap { position:relative; margin-bottom:20px; }
        .search-wrap .search-icon { position:absolute; left:14px; top:50%; transform:translateY(-50%); color:var(--color-text-muted); font-size:0.9rem; pointer-events:none; }
        .search-wrap input { width:100%; padding:10px 14px 10px 40px; border:1px solid var(--color-border); border-radius:var(--radius-sm); background:var(--color-surface); color:var(--color-text); font-size:0.9rem; outline:none; transition:border-color var(--transition); box-shadow:var(--shadow); }
        .search-wrap input:focus { border-color:var(--color-primary); }
        .search-wrap input::placeholder { color:var(--color-text-muted); }

        .search-dropdown { position:absolute; top:100%; left:0; right:0; z-index:1000; background:#fff; border:1px solid var(--color-border); border-radius:var(--radius-sm); box-shadow:var(--shadow-md); max-height:320px; overflow-y:auto; display:none; margin-top:4px; }
        .search-dropdown.open { display:block; }
        .search-item { display:flex; align-items:center; gap:12px; padding:10px 14px; cursor:pointer; border-bottom:1px solid var(--color-border); transition:background 0.1s; }
        .search-item:last-child { border-bottom:none; }
        .search-item:hover { background:var(--color-primary-light); }
        .search-item-name { font-weight:600; font-size:0.9rem; color:var(--color-text); }
        .search-item-email { font-size:0.8rem; color:var(--color-text-muted); }
        .search-empty { padding:20px; text-align:center; color:var(--color-text-muted); font-size:0.85rem; }

        .two-col { display:grid; grid-template-columns:1fr 1fr; gap:20px; }

        .panel-card { background:var(--color-surface); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; }
        .panel-card .card-header { padding:16px 20px; border-bottom:1px solid var(--color-border); display:flex; align-items:center; gap:12px; }
        .panel-card .card-title { font-size:1.05rem; font-weight:600; margin:0; flex:1; }
        .panel-card .card-title i { color:var(--color-primary); margin-right:8px; }
        .panel-body { padding:16px 20px; max-height:520px; overflow-y:auto; }

        /* Subject filter dropdown */
        .filter-select { padding:6px 10px; border:1px solid var(--color-border); border-radius:var(--radius-sm); background:var(--color-surface); color:var(--color-text); font-size:0.82rem; outline:none; cursor:pointer; font-family:inherit; }
        .filter-select:focus { border-color:var(--color-primary); }

        .test-row { display:flex; align-items:center; gap:12px; padding:9px 12px; border-radius:var(--radius-sm); border:1px solid var(--color-border); margin-bottom:6px; transition:all var(--transition); }
        .test-row:last-child { margin-bottom:0; }
        .test-row-info { flex:1; min-width:0; }
        .test-row-title { font-weight:600; font-size:0.88rem; color:var(--color-text); }
        .test-row-meta { font-size:0.75rem; color:var(--color-text-muted); }
        .test-btn { padding:4px 12px; border:none; border-radius:var(--radius-sm); font-size:0.75rem; font-weight:600; cursor:pointer; transition:all var(--transition); white-space:nowrap; }
        .test-btn.assign { background:var(--color-primary); color:#fff; }
        .test-btn.assign:hover { background:var(--color-primary-dark); }
        .test-btn.assigned { background:#FFF8E1; color:#F57F17; cursor:default; }
        .test-btn.completed { background:#E8F5E9; color:#2E7D32; cursor:default; }
        .test-btn.failed { background:#FFF3E0; color:#E65100; cursor:default; }
        .test-btn.loading { background:var(--color-border); color:var(--color-text-muted); cursor:wait; }

        .pending-row { display:flex; align-items:center; gap:12px; padding:9px 12px; border-radius:var(--radius-sm); background:var(--color-bg); margin-bottom:6px; }
        .pending-row:last-child { margin-bottom:0; }
        .pending-row-info { flex:1; }
        .pending-row-title { font-weight:600; font-size:0.88rem; }
        .pending-row-meta { font-size:0.75rem; color:var(--color-text-muted); }
        .remove-btn { padding:3px 10px; border:1px solid var(--color-border); border-radius:var(--radius-sm); background:transparent; color:var(--color-text-muted); font-size:0.72rem; font-weight:600; cursor:pointer; transition:all var(--transition); }
        .remove-btn:hover { border-color:#E53E3E; color:#E53E3E; background:#FFF5F5; }

        .feedback { margin:10px 20px 16px; padding:9px 12px; border-radius:var(--radius-sm); font-size:0.85rem; font-weight:500; display:none; }
        .feedback.success { display:block; background:#E8F5E9; color:#2E7D32; }
        .feedback.error { display:block; background:#FFF5F5; color:#E53E3E; }

        .empty-state { text-align:center; padding:32px 16px; color:var(--color-text-muted); }
        .empty-state i { font-size:1.6rem; margin-bottom:8px; display:block; opacity:0.3; }
        .empty-state p { font-size:0.85rem; margin:0; }

        @media(max-width:900px) { .two-col { grid-template-columns:1fr; } }

        /* ══════════════════════════════════════════════════════════
           Course Diagnostics Section
           ══════════════════════════════════════════════════════════ */
        .diag-section { margin-top:32px; }
        .diag-header { margin-bottom:16px; }
        .diag-header h2 { font-size:1.3rem; font-weight:700; color:var(--color-text); margin:0 0 4px; }
        .diag-header h2 i { color:#6C5CE7; margin-right:8px; }
        .diag-header p { font-size:0.88rem; color:var(--color-text-muted); margin:0; }
        .diag-row { margin-bottom:16px; }

        /* Course search */
        .diag-course-search-wrap { position:relative; margin-bottom:12px; }
        .diag-course-search-wrap .search-icon { position:absolute; left:12px; top:50%; transform:translateY(-50%); color:var(--color-text-muted); font-size:0.85rem; pointer-events:none; z-index:1; }
        .diag-course-search-wrap input { width:100%; padding:9px 12px 9px 36px; border:1px solid var(--color-border); border-radius:var(--radius-sm); background:var(--color-surface); color:var(--color-text); font-size:0.85rem; outline:none; transition:border-color var(--transition); }
        .diag-course-search-wrap input:focus { border-color:var(--color-primary); }
        .diag-course-search-wrap .search-dropdown { position:absolute; top:100%; left:0; right:0; z-index:1000; background:#fff; border:1px solid var(--color-border); border-radius:var(--radius-sm); box-shadow:var(--shadow-md); max-height:260px; overflow-y:auto; display:none; margin-top:4px; }
        .diag-course-search-wrap .search-dropdown.open { display:block; }

        /* Course list */
        .diag-course-row { display:flex; align-items:center; gap:12px; padding:10px 12px; border-radius:var(--radius-sm); border:1px solid var(--color-border); margin-bottom:6px; cursor:pointer; transition:all var(--transition); }
        .diag-course-row:last-child { margin-bottom:0; }
        .diag-course-row:hover { background:var(--color-primary-light); border-color:var(--color-primary); }
        .diag-course-row.selected { background:var(--color-primary-light); border-color:var(--color-primary); box-shadow:0 0 0 2px rgba(69,181,170,0.15); }
        .diag-course-info { flex:1; min-width:0; }
        .diag-course-title { font-weight:600; font-size:0.88rem; color:var(--color-text); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
        .diag-course-meta { font-size:0.75rem; color:var(--color-text-muted); }

        .diag-badge { padding:3px 8px; border-radius:var(--radius-sm); font-size:0.7rem; font-weight:600; white-space:nowrap; }
        .diag-badge.done { background:#E8F5E9; color:#2E7D32; }
        .diag-badge.generating { background:#FFF8E1; color:#F57F17; }

        /* Buttons */
        .diag-btn { padding:6px 14px; border:1px solid var(--color-border); border-radius:var(--radius-sm); font-size:0.82rem; font-weight:600; cursor:pointer; transition:all var(--transition); font-family:inherit; background:var(--color-surface); color:var(--color-text); }
        .diag-btn:hover { border-color:var(--color-primary); }
        .diag-btn.primary { background:var(--color-primary); color:#fff; border-color:var(--color-primary); }
        .diag-btn.primary:hover { background:var(--color-primary-dark); border-color:var(--color-primary-dark); }
        .diag-btn.secondary { background:var(--color-bg); color:var(--color-text); }
        .diag-btn.secondary:hover { background:var(--color-border); }
        .diag-btn.large { padding:10px 24px; font-size:0.95rem; }
        .diag-btn.refresh { padding:4px 8px; font-size:0.78rem; background:transparent; border:none; color:var(--color-text-muted); }
        .diag-btn.refresh:hover { color:var(--color-primary); }

        /* Ready state */
        .diag-ready { text-align:center; padding:32px 20px; }
        .diag-ready-icon { font-size:2.5rem; color:#6C5CE7; opacity:0.7; margin-bottom:12px; }
        .diag-ready h3 { font-size:1.05rem; font-weight:700; margin:0 0 8px; }
        .diag-ready p { font-size:0.85rem; color:var(--color-text-muted); margin:0 0 20px; max-width:500px; margin-left:auto; margin-right:auto; line-height:1.5; }

        /* Processing state */
        .diag-processing { text-align:center; padding:32px 20px; }
        .diag-processing-spinner { font-size:2rem; color:var(--color-primary); margin-bottom:12px; }
        .diag-processing h3 { font-size:1.05rem; font-weight:700; margin:0 0 6px; }
        .diag-step-indicator { font-size:0.72rem; font-weight:700; text-transform:uppercase; letter-spacing:0.5px; color:#6C5CE7; margin-bottom:8px; }
        .diag-processing p { font-size:0.85rem; color:var(--color-text-muted); margin:0 0 12px; }
        .diag-elapsed { font-size:0.78rem; color:var(--color-text-muted); margin-bottom:12px; }
        .diag-progress-bar { height:4px; background:var(--color-bg); border-radius:2px; overflow:hidden; max-width:300px; margin:0 auto; }
        .diag-progress-fill { height:100%; background:var(--color-primary); border-radius:2px; transition:width 0.5s ease; }

        /* Error state */
        .diag-error { text-align:center; padding:24px 20px; }
        .diag-error p { font-size:0.88rem; color:#E53E3E; margin:8px 0 16px; }

        /* Done state */
        .diag-done { padding:4px 0; }
        .diag-stats-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:12px; margin-bottom:16px; }
        .diag-stat { text-align:center; padding:14px 8px; background:var(--color-bg); border-radius:var(--radius-sm); border:1px solid var(--color-border); }
        .diag-stat-value { font-size:1.4rem; font-weight:800; color:var(--color-primary); }
        .diag-stat-label { font-size:0.72rem; font-weight:600; color:var(--color-text-muted); text-transform:uppercase; letter-spacing:0.4px; margin-top:2px; }
        .diag-gen-date { font-size:0.78rem; color:var(--color-text-muted); margin-bottom:12px; }
        .diag-warning { font-size:0.82rem; color:#F57F17; background:#FFF8E1; padding:8px 12px; border-radius:var(--radius-sm); margin-bottom:12px; }
        .diag-actions { display:flex; gap:8px; margin-bottom:16px; }

        /* Preview toggle */
        .diag-preview-section { border-top:1px solid var(--color-border); padding-top:12px; }
        .diag-toggle-btn { display:flex; align-items:center; gap:6px; padding:6px 0; background:none; border:none; font-size:0.85rem; font-weight:600; color:var(--color-text); cursor:pointer; font-family:inherit; }
        .diag-toggle-btn:hover { color:var(--color-primary); }
        .diag-toggle-btn i { font-size:0.7rem; transition:transform 0.2s; }

        /* Item cards (admin preview) */
        .diag-item-card { border:1px solid var(--color-border); border-radius:var(--radius-sm); padding:14px; margin-top:10px; background:var(--color-surface); }
        .diag-item-header { display:flex; align-items:center; gap:8px; margin-bottom:10px; flex-wrap:wrap; }
        .diag-item-num { font-weight:800; font-size:0.78rem; color:var(--color-primary); background:var(--color-primary-light); padding:2px 8px; border-radius:4px; }
        .diag-item-skill { font-size:0.75rem; color:var(--color-text-muted); flex:1; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
        .diag-item-diff { font-size:0.68rem; font-weight:600; padding:2px 6px; border-radius:4px; }
        .diag-item-diff.easy { background:#E8F5E9; color:#2E7D32; }
        .diag-item-diff.medium { background:#FFF8E1; color:#F57F17; }
        .diag-item-diff.hard { background:#FFF5F5; color:#E53E3E; }
        .diag-item-bloom { font-size:0.68rem; font-weight:600; padding:2px 6px; border-radius:4px; background:#E3F0FF; color:#1E40AF; }
        .diag-item-stimulus { font-size:0.82rem; color:var(--color-text-secondary); background:var(--color-bg); padding:10px 12px; border-radius:var(--radius-sm); margin-bottom:10px; font-style:italic; line-height:1.5; border-left:3px solid var(--color-primary); }
        .diag-item-stem { font-size:0.9rem; font-weight:600; margin-bottom:10px; line-height:1.45; }
        .diag-item-options { display:flex; flex-direction:column; gap:4px; }
        .diag-item-option { display:flex; align-items:center; gap:8px; padding:6px 10px; border-radius:var(--radius-sm); font-size:0.82rem; border:1px solid var(--color-border); }
        .diag-item-option.correct { background:#E8F5E9; border-color:#A5D6A7; }
        .opt-letter { font-weight:700; color:var(--color-text-muted); min-width:16px; }
        .opt-text { flex:1; }
        .opt-misconception { color:#F57F17; cursor:help; margin-left:4px; font-size:0.75rem; }

        /* Student card in assignment */
        .diag-student-card { display:flex; align-items:center; gap:12px; padding:10px 12px; background:var(--color-bg); border-radius:var(--radius-sm); margin-top:8px; }

        /* Unit picker */
        .diag-unit-picker { margin-bottom:16px; }
        .diag-unit-picker-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
        .diag-unit-picker-label { font-size:0.82rem; font-weight:600; color:var(--color-text); }
        .diag-unit-checkboxes { display:flex; flex-wrap:wrap; gap:6px; }
        .diag-unit-checkbox { display:inline-flex; align-items:center; gap:6px; padding:5px 10px; border:1px solid var(--color-border); border-radius:var(--radius-sm); font-size:0.78rem; cursor:pointer; transition:all var(--transition); background:var(--color-surface); }
        .diag-unit-checkbox:hover { border-color:var(--color-primary); background:var(--color-primary-light); }
        .diag-unit-checkbox input[type="checkbox"] { margin:0; accent-color:var(--color-primary); }
        .diag-unit-checkbox span { white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:220px; }

        @media(max-width:600px) { .diag-stats-grid { grid-template-columns:repeat(2,1fr); } }
    